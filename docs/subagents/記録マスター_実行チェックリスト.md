# 📋 記録マスター実行チェックリスト

## 🚨 使用方法（重要）

**この チェックリストは記録マスターエージェントが内蔵しているチェック項目です。**  
**すべてのトラブルシューティング記録において、このチェックリストを100%実行してください。**

---

## 🔍 Phase 1: 問題受信・初期分析

### ✅ 1.1 問題受信確認
- [ ] ユーザーからの問題報告を受信
- [ ] 問題の具体的症状を確認
- [ ] 発生環境・状況を確認

### ✅ 1.2 既存問題データベース検索（必須）
```bash
# 必須実行コマンド
docs/_TROUBLESHOOTING.md を開く
症状・キーワードで類似問題を検索
```

- [ ] `docs/_TROUBLESHOOTING.md`から関連ファイルを検索
- [ ] 症状キーワードでマッチする問題を特定
- [ ] タグ・別名で類似問題を確認
- [ ] **結果**: 既存問題 [ ]有り / [ ]無し

### ✅ 1.3 問題分類（自動判定）
```javascript
// 分類アルゴリズム実行
const category = classifyProblem(problemDescription);
```

**分類結果**:
- [ ] 位置・レイアウト（ずれる、位置、座標、配置）
- [ ] 表示（見えない、表示されない、消える）
- [ ] 機能・UI（動かない、クリック、ボタン、ハンドル）
- [ ] Spine技術（Spine、WebGL、アニメーション）
- [ ] システム（エラー、undefined、読み込み）

### ✅ 1.4 緊急度判定
- [ ] 高：編集システム基本機能停止
- [ ] 中：一部機能制限・回避策あり
- [ ] 低：改善要望・最適化

---

## 🔄 Phase 2: 既存解決策実行（必須手順）

### ✅ 2.1 強制トラブルシューティング参照
- [ ] **🚨 必須**: 該当するファイルを開く（飛ばし禁止）
- [ ] `<!-- 🔒 確定済み解決策 - 変更禁止 -->`マーク確認
- [ ] **参照ファイル**: `{ファイルパスを記録}`

### ✅ 2.2 解決策セクション確認
- [ ] 「⚡ 有効な解決策・回避策」セクション [ ]存在 / [ ]不存在

**存在する場合**:
- [ ] 解決策1から順番に実行
- [ ] 実行結果をユーザーに報告
- [ ] **実行した解決策**: `{解決策番号・内容を記録}`

**存在しない場合**:
- [ ] 「⚠️ 現在調査中」セクションとして作成
- [ ] 新規調査・修正を実施
- [ ] **実施内容**: `{調査・修正内容を記録}`

### ✅ 2.3 修正実装・結果報告
- [ ] 修正・調査完了
- [ ] **修正完了をユーザーに報告**（必須）
- [ ] **報告時刻**: `{時刻を記録}`

---

## ⏳ Phase 3: ユーザー評価待機（最重要フェーズ）

### ✅ 3.1 評価待機状態
- [ ] **🚨 絶対ルール**: ユーザーからの実際の評価を待つ
- [ ] **禁止**: 推測による判定
- [ ] **禁止**: 修正実装直後の「解決済み」記録

### ✅ 3.2 ユーザー評価受信
- [ ] ユーザーからの評価文を受信
- [ ] **評価文**: `"{実際の評価文を記録}"`
- [ ] **受信時刻**: `{時刻を記録}`

### ✅ 3.3 評価パターン自動判定
```javascript
// 自動判定アルゴリズム実行
const result = evaluateUserResponse(userResponse);
```

**✅ 成功パターン判定**:
- [ ] 「できました」「なりました」「解決しました」
- [ ] 「うまくいきました」「動きました」「直りました」  
- [ ] 「正しく表示される」「期待通り」「OK」「良い」

**❌ 失敗パターン判定**:
- [ ] 「できません」「だめです」「うまくいきません」
- [ ] 「変わりません」「同じです」「効果なし」
- [ ] 「まだずれてる」「直ってない」「NG」

**⚠️ 部分成功パターン判定**:
- [ ] 「一部」「ほぼ」「だいたい」「少し良くなった」
- [ ] 「改善したが」「マシになったが」

**🤔 曖昧パターン（追加確認必要）**:
- [ ] 上記にマッチしない評価
- [ ] **対応**: 具体的状況を追加質問

**判定結果**: [ ]解決済み / [ ]失敗 / [ ]部分解決 / [ ]要確認

---

## 📝 Phase 4: 記録実行

### ✅ 4.1 記録前品質チェック
- [ ] ユーザー評価が実際に受信されているか
- [ ] 評価パターンが正しく判定されているか
- [ ] 既存ファイルとの重複がないか
- [ ] 必要な情報が全て収集されているか

### ✅ 4.2 記録ファイル決定
**新規問題の場合**:
- [ ] 新ファイル作成: `docs/troubleshooting/{問題名}.md`
- [ ] **ファイル名**: `{決定したファイル名}`

**既存問題の場合**:
- [ ] 既存ファイルにCase追加
- [ ] **対象ファイル**: `{既存ファイルパス}`

### ✅ 4.3 記録フォーマット自動生成
```markdown
## 🆕 Case {番号}: {問題タイトル}

### 📅 基本情報
- **発生日時**: {自動生成}
- **報告者**: {ユーザー}
- **問題分類**: {分類結果}
- **緊急度**: {判定結果}

### 🔍 問題の詳細
{問題説明}

### ⚡ 実施した解決策
{実施内容詳細}

### 📊 結果
- **ユーザー評価**: "{実際の評価文}"
- **判定結果**: {自動判定結果}
- **ステータス**: {解決済み/失敗/部分解決}

### 🔗 関連情報
- **参照したファイル**: {参照ファイル一覧}
- **実行したコマンド**: {実行コマンド一覧}
- **変更したファイル**: {変更ファイル一覧}
```

### ✅ 4.4 記録実行・完了
- [ ] 記録ファイルに追記・更新
- [ ] `docs/_TROUBLESHOOTING.md`インデックス更新
- [ ] 関連ファイルのリンク更新
- [ ] **記録完了時刻**: `{時刻を記録}`

---

## 📊 Phase 5: 完了報告・後処理

### ✅ 5.1 記録完了報告
- [ ] ユーザーに記録完了を報告
- [ ] 作成・更新したファイルパスを報告
- [ ] **報告内容**: `{報告メッセージ}`

### ✅ 5.2 統計更新
- [ ] 問題分類別統計更新
- [ ] 解決率統計更新
- [ ] 記録品質指標更新

### ✅ 5.3 予防策検討（該当する場合）
- [ ] 同様問題の予防策提案
- [ ] システム改善提言
- [ ] ドキュメント改善提案

---

## 🚨 エラー回避チェック

### 絶対禁止事項確認
- [ ] ✅ 修正実装直後の「解決済み」記録を避けた
- [ ] ✅ ユーザー確認なしの状態更新を避けた  
- [ ] ✅ 推測による成功/失敗判定を避けた
- [ ] ✅ 既存問題検索を飛ばすことを避けた

### 品質保証確認  
- [ ] ✅ 全てのフェーズを順番に実行
- [ ] ✅ 必要な情報が全て記録されている
- [ ] ✅ 記録フォーマットが正しい
- [ ] ✅ 関連ファイルが正しく更新されている

---

## 🎯 実行結果サマリー

**記録ファイル**: `{最終的な記録ファイルパス}`  
**処理時間**: `{開始時刻}` → `{完了時刻}`  
**判定結果**: `{最終判定結果}`  
**品質スコア**: `{品質評価点数/100}`  

---

**✅ このチェックリストの全項目完了により、CLAUDE.md記録ルール100%遵守と記録漏れゾロを保証します。**