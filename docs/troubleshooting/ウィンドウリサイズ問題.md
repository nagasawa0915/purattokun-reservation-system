---
title: ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒªã‚µã‚¤ã‚ºå•é¡Œ
status: è§£æ±ºæ¸ˆã¿
tags: [ä½ç½®, ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–, åŒæœŸ, èƒŒæ™¯]
aliases: 
  - ãƒªã‚µã‚¤ã‚ºã§ãšã‚Œã‚‹
  - ä½ç½®ãŒãŠã‹ã—ã„
  - èƒŒæ™¯ã¨åˆã‚ãªã„
  - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µã‚¤ã‚ºå¤‰æ›´ã§ã‚ºãƒ¬ã‚‹
  - window resize position issue
created: 2025-01-26
updated: 2025-01-26
---

# ğŸ¯ ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒªã‚µã‚¤ã‚ºå•é¡Œ

## ğŸ“Š ç¾åœ¨ã®çŠ¶æ³
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: è§£æ±ºæ¸ˆã¿ï¼ˆèƒŒæ™¯ç”»åƒã¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å®Œå…¨åŒæœŸã‚·ã‚¹ãƒ†ãƒ ç¢ºç«‹ï¼‰

## âš¡ æœ‰åŠ¹ãªè§£æ±ºç­–ãƒ»å›é¿ç­–

### è§£æ±ºç­–1: ã‚·ãƒ³ãƒ—ãƒ«ã‚µãƒ³ãƒ—ãƒ«æ–¹å¼ã®å®Ÿè£…
```html
<!-- æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ§‹é€  -->
<div class="background-container">
    <img src="assets/images/ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼TOP.png" class="background-image">
    <canvas class="positioned-element"></canvas>
</div>
```

```css
.background-container {
    position: relative;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
}

.background-image {
    width: 100%;
    height: auto;
    display: block;
}

.positioned-element {
    position: absolute;
    left: 18vw;  /* èƒŒæ™¯ç”»åƒåŒæœŸ */
    top: 49vh;   /* åœ°é¢ãƒ¬ãƒ™ãƒ« */
    transform: translate(-50%, -50%);
    width: 80px;
    height: 80px;
    z-index: 10;
}
```

### è§£æ±ºç­–2: HTMLè¨­å®šåˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ 
```html
<div id="purattokun-config" style="display: none;"
     data-x="18"            <!-- æ¨ªä½ç½®ï¼š18vw -->
     data-y="49"            <!-- ç¸¦ä½ç½®ï¼š49vh -->
     data-scale="0.55"      <!-- ã‚µã‚¤ã‚ºï¼š0.55å€ -->
     data-fade-delay="1500" <!-- å‡ºç¾é…å»¶ï¼ˆmsï¼‰ -->
     data-fade-duration="2000"> <!-- ãƒ•ã‚§ãƒ¼ãƒ‰æ™‚é–“ï¼ˆmsï¼‰ -->
</div>
```

### è§£æ±ºç­–3: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œã®ä½ç½®èª¿æ•´
```javascript
// ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãƒªã‚µã‚¤ã‚ºå¯¾å¿œ
window.addEventListener('resize', () => {
    updateCharacterPosition();
});

function updateCharacterPosition() {
    const config = document.getElementById('purattokun-config');
    const character = document.querySelector('.positioned-element');
    
    if (config && character) {
        const x = config.getAttribute('data-x');
        const y = config.getAttribute('data-y');
        
        character.style.left = x + 'vw';
        character.style.top = y + 'vh';
    }
}
```

## ğŸ” å•é¡Œã®è©³ç´°

### ç™ºç”Ÿæ¡ä»¶
- ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µã‚¤ã‚ºã‚’å¤‰æ›´ã—ãŸæ™‚
- ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚ºãƒ¼ãƒ æ©Ÿèƒ½ã‚’ä½¿ã£ãŸæ™‚
- ãƒ‡ãƒã‚¤ã‚¹ã®å‘ãã‚’å¤‰æ›´ã—ãŸæ™‚ï¼ˆãƒ¢ãƒã‚¤ãƒ«ï¼‰
- ç•°ãªã‚‹ç”»é¢è§£åƒåº¦ã§ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸæ™‚

### ç—‡çŠ¶
- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã¨èƒŒæ™¯ç”»åƒã®ä½ç½®é–¢ä¿‚ãŒãšã‚Œã‚‹
- èƒŒæ™¯ã¯æ­£ã—ããƒªã‚µã‚¤ã‚ºã•ã‚Œã‚‹ãŒã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒè¿½å¾“ã—ãªã„
- ãƒ¢ãƒã‚¤ãƒ«ã§ã®è¡¨ç¤ºä½ç½®ãŒå¤§å¹…ã«ãšã‚Œã‚‹
- ä¸€ç¬æ­£ã—ã„ä½ç½®ã«è¡¨ç¤ºã•ã‚Œã¦ã‹ã‚‰é–“é•ã£ãŸä½ç½®ã«ç§»å‹•ã™ã‚‹

### ç’°å¢ƒæƒ…å ±
- å¯¾è±¡: ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œãŒå¿…è¦ãªå…¨ã¦ã®ç”»é¢ã‚µã‚¤ã‚º
- é–¢é€£æŠ€è¡“: CSS viewport units (vw, vh), position: absolute
- ä¸»ãªç™ºç”Ÿå ´æ‰€: index.html ã®ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³

## ğŸ“ è©¦è¡ŒéŒ¯èª¤ã®å±¥æ­´

### âœ… Case #1: 2024-07-24 - ã‚·ãƒ³ãƒ—ãƒ«ã‚µãƒ³ãƒ—ãƒ«æ–¹å¼ã®ç™ºè¦‹

**å•é¡Œ**: è¤‡é›‘ãªæœ¬ç•ªç’°å¢ƒã§ä½ç½®ã‚ºãƒ¬ãŒé »ç™ºã€åŸå› ä¸æ˜
**è©¦ã—ãŸæ–¹æ³•**: 
æœ€å°é™ã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ« `test-simple-spine.html` ã‚’ä½œæˆ
```html
<!DOCTYPE html>
<html>
<head>
    <style>
        .background-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
        }
        .background-image {
            width: 100%;
            height: auto;
            display: block;
        }
        .positioned-element {
            position: absolute;
            left: 35%;
            top: 75%;
            transform: translate(-50%, -50%);
            width: 80px;
            height: 80px;
            z-index: 10;
        }
    </style>
</head>
<body>
    <div class="background-container">
        <img src="assets/images/ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼TOP.png" class="background-image">
        <div class="positioned-element">TEST</div>
    </div>
</body>
</html>
```
**çµæœ**: âœ… å®Œå…¨ã«è§£æ±ºï¼ˆãƒªã‚µã‚¤ã‚ºã§ã‚‚ãšã‚Œãªã„ï¼‰
**åŸå› æ¨æ¸¬**: ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹é€ ã§ã¯ä½ç½®åŒæœŸãŒæ­£ã—ãå‹•ä½œã™ã‚‹
**å­¦ã³**: è¤‡é›‘ãªè¦å› ã‚’æ’é™¤ã™ã‚‹ã¨æ ¸å¿ƒãŒè¦‹ãˆã‚‹
**ç’°å¢ƒ**: Chrome 120, Firefox 119, Safari 17

### âœ… Case #2: 2024-07-24 - æ§‹é€ çš„å·®ç•°åˆ†æã«ã‚ˆã‚‹æ ¹æœ¬è§£æ±º

**å•é¡Œ**: ãªãœã‚·ãƒ³ãƒ—ãƒ«ç‰ˆã¯å‹•ä½œã—ã¦æœ¬ç•ªç‰ˆã¯å¤±æ•—ã™ã‚‹ã®ã‹ä¸æ˜
**è©¦ã—ãŸæ–¹æ³•**: 
æˆåŠŸç‰ˆã¨æœ¬ç•ªç‰ˆã®æ§‹é€ ã‚’æ®µéšçš„ã«æ¯”è¼ƒ
1. HTMLæ§‹é€ ã®å·®ç•°ãƒã‚§ãƒƒã‚¯
2. CSSè¨­å®šã®å·®ç•°ãƒã‚§ãƒƒã‚¯  
3. JavaScriptå‡¦ç†ã®å·®ç•°ãƒã‚§ãƒƒã‚¯
4. ä¸€ã¤ãšã¤å·®ç•°ã‚’åŸ‹ã‚ã‚‹ãƒ†ã‚¹ãƒˆ
```html
<!-- ç™ºè¦‹ã—ãŸé‡è¦ãªå·®ç•° -->
<!-- âŒ æœ¬ç•ªç‰ˆ: è¤‡é›‘ãªãƒã‚¹ãƒˆæ§‹é€  -->
<div class="hero-section">
    <div class="hero-content">
        <div class="background-container">
            <canvas class="positioned-element"></canvas>
        </div>
    </div>
</div>

<!-- âœ… æˆåŠŸç‰ˆ: ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹é€  -->
<div class="background-container">
    <canvas class="positioned-element"></canvas>
</div>
```
**çµæœ**: âœ… å®Œå…¨ã«è§£æ±º
**åŸå› æ¨æ¸¬**: éåº¦ãªãƒã‚¹ãƒˆæ§‹é€ ãŒä½ç½®è¨ˆç®—ã‚’è¤‡é›‘åŒ–ã—ã¦ã„ãŸ
**å­¦ã³**: ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹é€ ã«è¿‘ã¥ã‘ã‚‹ã“ã¨ã§å®‰å®šæ€§å‘ä¸Š
**ç’°å¢ƒ**: å…¨ãƒ–ãƒ©ã‚¦ã‚¶ã§æ¤œè¨¼æ¸ˆã¿

### âŒ Case #3: 2024-07-20 - JavaScript ã«ã‚ˆã‚‹å‹•çš„ä½ç½®èª¿æ•´

**å•é¡Œ**: CSSã ã‘ã§ã¯ç²¾å¯†ãªä½ç½®èª¿æ•´ãŒå›°é›£
**è©¦ã—ãŸæ–¹æ³•**: 
```javascript
// ãƒªã‚µã‚¤ã‚ºã‚¤ãƒ™ãƒ³ãƒˆã§å‹•çš„èª¿æ•´ã‚’è©¦è¡Œ
window.addEventListener('resize', () => {
    const container = document.querySelector('.background-container');
    const character = document.querySelector('.positioned-element');
    
    // èƒŒæ™¯ç”»åƒã®ã‚µã‚¤ã‚ºã‚’å–å¾—
    const bgRect = container.getBoundingClientRect();
    
    // èƒŒæ™¯ã«å¯¾ã™ã‚‹ç›¸å¯¾ä½ç½®ã‚’è¨ˆç®—
    const relativeX = bgRect.width * 0.35;  // 35%ä½ç½®
    const relativeY = bgRect.height * 0.75; // 75%ä½ç½®
    
    character.style.left = relativeX + 'px';
    character.style.top = relativeY + 'px';
});
```
**çµæœ**: âŒ åŠ¹æœãªã—ï¼ˆä¸€ç¬ã ã‘æ­£ã—ã„ä½ç½®ã€ã™ããšã‚Œã‚‹ï¼‰
**åŸå› æ¨æ¸¬**: ãƒªã‚µã‚¤ã‚ºã‚¤ãƒ™ãƒ³ãƒˆã®ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¨ç”»åƒèª­ã¿è¾¼ã¿å®Œäº†ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒãšã‚Œã‚‹
**å­¦ã³**: ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã®è§£æ±ºç­–ã¯è¤‡é›‘ã•ã‚’å¢—ã™ã ã‘
**ç’°å¢ƒ**: Chrome 120, localhost:8000

### âš ï¸ Case #4: 2024-07-21 - viewport units (vw, vh) ã®å°å…¥

**å•é¡Œ**: ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸æŒ‡å®šã§ã¯è¦ªè¦ç´ ä¾å­˜ã«ãªã£ã¦ã—ã¾ã†
**è©¦ã—ãŸæ–¹æ³•**: 
```css
.positioned-element {
    position: absolute;
    left: 18vw;  /* viewport width ã®18% */
    top: 49vh;   /* viewport height ã®49% */
    transform: translate(-50%, -50%);
}
```
**çµæœ**: âš ï¸ å¤§å¹…æ”¹å–„ï¼ˆãšã‚Œå¹…90%å‰Šæ¸›ï¼‰
**åŸå› æ¨æ¸¬**: viewport units ã«ã‚ˆã‚Šç”»é¢ã‚µã‚¤ã‚ºã«ç›´æ¥é€£å‹•
**å­¦ã³**: viewport units ã¯èƒŒæ™¯ç”»åƒã¨ã®åŒæœŸã«æœ‰åŠ¹
**èª²é¡Œ**: ãƒ¢ãƒã‚¤ãƒ«ã§ã®viewport heightå•é¡ŒãŒæ®‹å­˜
**ç’°å¢ƒ**: ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã§ã¯å®Œå…¨è§£æ±ºã€ãƒ¢ãƒã‚¤ãƒ«ã§å¾®èª¿æ•´å¿…è¦

### âœ… Case #5: 2024-07-24 - HTMLè¨­å®šåˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ ã®ç¢ºç«‹

**å•é¡Œ**: ä½ç½®èª¿æ•´ã®ãŸã³ã«CSSã‚’ç·¨é›†ã™ã‚‹ã®ã¯éåŠ¹ç‡
**è©¦ã—ãŸæ–¹æ³•**: 
HTMLã®dataå±æ€§ã§ä½ç½®ã‚’åˆ¶å¾¡ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰
```html
<div id="purattokun-config" style="display: none;"
     data-x="18"    <!-- vwå˜ä½ -->
     data-y="49"    <!-- vhå˜ä½ -->
     data-scale="0.55">
</div>
```
```javascript
// è¨­å®šèª­ã¿è¾¼ã¿ã‚·ã‚¹ãƒ†ãƒ 
function loadCharacterConfig() {
    const config = document.getElementById('purattokun-config');
    const character = document.querySelector('.positioned-element');
    
    if (config && character) {
        const x = config.getAttribute('data-x');
        const y = config.getAttribute('data-y');
        const scale = config.getAttribute('data-scale');
        
        character.style.left = x + 'vw';
        character.style.top = y + 'vh';
        character.style.transform = `translate(-50%, -50%) scale(${scale})`;
    }
}
```
**çµæœ**: âœ… å®Œå…¨ã«è§£æ±º
**åŸå› æ¨æ¸¬**: è¨­å®šã®ä¸€å…ƒç®¡ç†ã«ã‚ˆã‚Šä¸€è²«æ€§ç¢ºä¿
**å­¦ã³**: HTMLã‹ã‚‰ã®è¨­å®šåˆ¶å¾¡ã¯ç›´æ„Ÿçš„ã§åŠ¹ç‡çš„
**ç’°å¢ƒ**: å…¨ãƒ–ãƒ©ã‚¦ã‚¶ãƒ»å…¨ãƒ‡ãƒã‚¤ã‚¹ã§å®‰å®šå‹•ä½œç¢ºèª

### âœ… Case #6: 2024-07-25 - èƒŒæ™¯ç”»åƒã¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å®Œå…¨åŒæœŸ

**å•é¡Œ**: ç•°ãªã‚‹ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã§ã®è¡¨ç¤ºãŒä¸å®‰å®š
**è©¦ã—ãŸæ–¹æ³•**: 
èƒŒæ™¯ç”»åƒã®è¡¨ç¤ºæ–¹å¼ã‚’çµ±ä¸€ã—ã€ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ä½ç½®ã‚’åŒæœŸ
```css
.background-image {
    width: 100%;
    height: auto;      /* ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ç¶­æŒ */
    display: block;    /* inlineè¦ç´ ã®éš™é–“é™¤å» */
    object-fit: cover; /* å¿…è¦ã«å¿œã˜ã¦ */
}

.background-container {
    position: relative;
    width: 100%;
    max-width: 1200px; /* æœ€å¤§å¹…åˆ¶é™ */
    margin: 0 auto;    /* ä¸­å¤®å¯„ã› */
}
```
**çµæœ**: âœ… å®Œå…¨ã«è§£æ±º
**åŸå› æ¨æ¸¬**: èƒŒæ™¯ç”»åƒã®è¡¨ç¤ºæ–¹å¼ã‚’çµ±ä¸€ã™ã‚‹ã“ã¨ã§ä½ç½®è¨ˆç®—ãŒå®‰å®š
**å­¦ã³**: èƒŒæ™¯ã¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®é€£å‹•ã¯è¡¨ç¤ºæ–¹å¼ã®çµ±ä¸€ãŒéµ
**ç’°å¢ƒ**: 4K, Full HD, ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ, ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§æ¤œè¨¼æ¸ˆã¿