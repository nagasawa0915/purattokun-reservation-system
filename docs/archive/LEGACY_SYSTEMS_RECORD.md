# レガシーシステム記録

**作成日**: 2025-09-04
**目的**: CLAUDE.mdから移動された従来システム・完了済みシステムの記録を保存

---

## 🔄 従来システム - 完全保持済み

### 1. ドラッグ&スケール編集システム - 完全実装済み
- spine-positioning-system-explanation.js による従来版
- ドラッグ移動、スケール調整（スライダー・数値入力）
- localStorage連携の位置・設定保存

### 2. 複数キャラクター対応システム - Phase 1完了
- キャラクター自動検出（5種類のセレクター対応）
- キャラクター選択UI（右パネル統合）
- 視覚的ハイライト機能
- レイヤー順序制御（ドラッグ&ドロップ並び替え）
- z-index動的管理システム

### 3. 問題解決・記録システム - 充実
- スケール機能問題の完全修正・記録
- ドラッグハンドル位置ずれ問題の修正
- 複数キャラクター対応実装記録の詳細作成
- **⭐ Spine編集システム完全実装記録の作成**
- **🆕 バウンディングボックス編集システム実装記録の作成**（2025-08-05新規追加）

### 4. バウンディングボックス編集システム - Phase 1完了（2025-08-05）
- 保存・キャンセル機能の完全実装
- 座標系スワップ技術対応（編集座標→元座標系→保存）
- localStorage互換性保証（既存システムとキー共有）
- 編集ボタン問題の解決（関数名修正：createEditStartButton → initializeSpineEditSystem）
- 視覚的フィードバック付きUI（保存=緑、キャンセル=黄）
- 複数要素セレクター対応・エラーハンドリング完備
- **✅ ユーザー動作確認**: 「完璧です！」評価取得

## 🗂️ アーカイブシステム（参考用）

### v1.0従来版
- **保存場所**: archive/backup-files/に保存済み
- **特徴**: 5,437行・高機能・モノリス設計
- **状態**: アーカイブ済み・参考用として保持

### v2.0軽量版
- **存在期間**: 2025-07-31に一時存在
- **特徴**: 900行・45KB
- **状態**: v3.0に統合済み

### 利用方法
- **現在推奨**: v3.0モジュール化システムを使用
- **アクセス**: `http://localhost:8000/index.html?edit=true`

## 📋 v3.0システム機能

### 複数キャラクター管理
- purattokun + nezumi両対応
- レイヤー制御・z-index管理

### 完全モバイル対応
- タッチイベント・レスポンシブUI・パネル最適化

### localStorage v3.0
- 複数キャラクター情報の完全永続化
- モジュール対応

### モジュール管理
- SpineEditCore分離・動的読み込み・拡張性確保

### エラー検出
- 初期化失敗・モジュール読み込み問題の自動診断

## 🎮 利用方法

### 編集作業
- **推奨**: v3.0モジュール化システム（拡張性・安定性重視）
- **アクセス**: `http://localhost:8000/index.html?edit=true`

### 開発・デバッグ
- F12コンソールで各種診断関数・Phase3DebugTools利用可能

### キャラクター追加
- モジュール方式で新キャラクターの容易な統合

## 🆕 v3.0モジュール化システム（商用制作用）

### メインファイル
- **spine-positioning-system-explanation.js**: v3.0 Phase 2・158KB
- **spine-edit-core.js**: 15KB

### 特徴
- モジュール分離・動的読み込み・高拡張性
- nezumi統合対応

### 技術実装
- **Phase A**: CSS出力機能統合
- **Phase B**: 完全パッケージ出力機能統合
- **Phase 2**: SpineEditCore分離・モジュール化基盤確立
- **Spine WebGLライブラリ**: 446KB・ローカル化対応

### 操作方法
- キャラクター直接クリック選択・ドラッグ移動
- 矢印キー精密移動（0.1%/1%刻み）
- ドラッグ&ドロップレイヤー制御

### 商用機能
- 「📋 CSS出力」ボタン（Phase A）
- 「📦 パッケージ出力」ボタン（Phase B・技術完成）

---

**📝 注記**: このドキュメントは2025-09-04時点でCLAUDE.mdから移動されたレガシーシステムの記録です。現在進行中の作業については、CLAUDE.mdの現在の作業状況セクションを参照してください。