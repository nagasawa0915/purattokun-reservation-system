<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spine Editor Desktop v2.0</title>
    <link rel="stylesheet" href="css/main.css">
    
    <!-- Spine WebGL Library (Webã‚¢ãƒ—ãƒªç‰ˆã‚³ãƒ”ãƒ¼ - å‹•ä½œç¢ºèªæ¸ˆã¿) -->
    <script src="assets/spine/spine-webgl-working.js"></script>
    
    <!-- ãƒ‡ãƒãƒƒã‚°ç”¨å³åº§ãƒã‚§ãƒƒã‚¯ -->
    <script>
        console.log('ğŸ” HTMLèª­ã¿è¾¼ã¿ç›´å¾Œã®SpineçŠ¶æ…‹:');
        console.log('  - typeof spine:', typeof spine);
        console.log('  - typeof window.spine:', typeof window.spine);
        console.log('  - document.readyState:', document.readyState);
        
        // å°‘ã—å¾…ã£ã¦ã‹ã‚‰å†åº¦ãƒã‚§ãƒƒã‚¯
        setTimeout(() => {
            console.log('ğŸ” 1ç§’å¾Œã®SpineçŠ¶æ…‹:');
            console.log('  - typeof spine:', typeof spine);
            console.log('  - typeof window.spine:', typeof window.spine);
            console.log('  - spine:', spine);
            if (typeof spine !== 'undefined') {
                console.log('  - spine.AssetManager:', spine.AssetManager);
                console.log('  - spine keys:', Object.keys(spine));
            }
        }, 1000);
    </script>
</head>
<body>
    <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ -->
    <div id="app" class="app-container">
        <!-- ãƒˆãƒƒãƒ—ãƒãƒ¼ -->
        <header class="app-header">
            <div class="header-left">
                <h1 class="app-title">Spine Editor v2.0</h1>
                <div class="project-info">
                    <span id="project-name">No Project</span>
                    <span id="project-status" class="status-indicator"></span>
                </div>
            </div>
            <div class="header-center">
                <div class="quick-actions">
                    <button id="btn-open-project" class="btn btn-primary" title="ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã (Ctrl+O)">
                        <span class="icon">ğŸ“</span>
                        Open
                    </button>
                    <button id="btn-save-project" class="btn btn-secondary" title="ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¿å­˜ (Ctrl+S)" disabled>
                        <span class="icon">ğŸ’¾</span>
                        Save
                    </button>
                    <button id="btn-export-package" class="btn btn-success" title="ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å‡ºåŠ› (Ctrl+E)" disabled>
                        <span class="icon">ğŸ“¦</span>
                        Export
                    </button>
                </div>
            </div>
            <div class="header-right">
                <div class="app-controls">
                    <button id="btn-simple-scene" class="btn btn-special" title="ã‚·ãƒ³ãƒ—ãƒ«Spineã‚·ãƒ¼ãƒ³ - çµ±ä¸€åº§æ¨™ã‚·ã‚¹ãƒ†ãƒ ">
                        <span class="icon">ğŸ­</span>
                        Simple Scene
                    </button>
                    <button id="btn-demo-mode" class="btn btn-outline" title="ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ (Phase 0.2)">
                        <span class="icon">ğŸš€</span>
                        Demo
                    </button>
                    <button id="btn-toggle-preview" class="btn btn-outline" title="ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼åˆ‡æ›¿">
                        <span class="icon">ğŸ‘ï¸</span>
                    </button>
                    <button id="btn-settings" class="btn btn-outline" title="è¨­å®š">
                        <span class="icon">âš™ï¸</span>
                    </button>
                </div>
            </div>
        </header>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ -->
        <main class="app-main">
            <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼: Spine ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒŠãƒ¼ -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <div id="spine-outliner-container" class="spine-outliner-container">
                        <!-- SpineOutlinerUIãŒã“ã“ã«å‹•çš„ç”Ÿæˆã•ã‚Œã‚‹ -->
                        <div class="spine-outliner-placeholder">
                            <h3>ğŸ­ Spine ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼</h3>
                            <p>çµ„ã¿è¾¼ã¿æ¸ˆã¿ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’ä½¿ç”¨ã§ãã¾ã™</p>
                            
                            <!-- çµ„ã¿è¾¼ã¿ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ -->
                            <div class="built-in-characters">
                                <button id="btn-add-purattokun" class="btn btn-primary">
                                    ğŸ± ã·ã‚‰ã£ã¨ãã‚“
                                </button>
                                <button id="btn-add-nezumi" class="btn btn-primary">
                                    ğŸ­ nezumi
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <h3>Layers</h3>
                    <div id="layer-list" class="layer-list">
                        <div class="placeholder-text">No layers</div>
                    </div>
                </div>
                
                <div class="sidebar-section">
                    <h3>Properties</h3>
                    <div id="property-panel" class="property-panel">
                        <div class="placeholder-text">Select a character</div>
                    </div>
                </div>
            </aside>

            <!-- ãƒ¡ã‚¤ãƒ³ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ -->
            <section class="workspace">
                <!-- ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ -->
                <div class="toolbar">
                    <div class="tool-group">
                        <button id="tool-select" class="tool-btn active" title="é¸æŠãƒ„ãƒ¼ãƒ« (V)">
                            <span class="icon">ğŸ–±ï¸</span>
                        </button>
                        <button id="tool-move" class="tool-btn" title="ç§»å‹•ãƒ„ãƒ¼ãƒ« (M)">
                            <span class="icon">âœ‹</span>
                        </button>
                        <button id="tool-scale" class="tool-btn" title="ã‚¹ã‚±ãƒ¼ãƒ«ãƒ„ãƒ¼ãƒ« (S)">
                            <span class="icon">ğŸ”„</span>
                        </button>
                    </div>
                    
                    <div class="tool-group">
                        <label class="zoom-control">
                            Zoom: <span id="zoom-value">100%</span>
                            <input id="zoom-slider" type="range" min="25" max="200" value="100">
                        </label>
                    </div>
                    
                    <div class="tool-group">
                        <button id="btn-reset-view" class="btn btn-outline btn-sm" title="ãƒ“ãƒ¥ãƒ¼ãƒªã‚»ãƒƒãƒˆ">
                            <span class="icon">ğŸ¯</span>
                            Reset View
                        </button>
                    </div>
                </div>

                <!-- Canvas ã‚¨ãƒªã‚¢ -->
                <div class="canvas-container">
                    <div id="spine-viewport" class="spine-viewport">
                        <!-- Spine Stage: ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒŠãƒ¼ã‹ã‚‰ã®ãƒ‰ãƒ­ãƒƒãƒ—å—ã‘å…¥ã‚Œã‚¨ãƒªã‚¢ -->
                        <div class="spine-stage" id="spine-stage">
                            <!-- Spineã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒã“ã“ã«å‹•çš„ã«é…ç½®ã•ã‚Œã‚‹ -->
                        </div>
                        
                        <!-- Spineã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã‚‹ -->
                        <div class="viewport-overlay">
                            <div class="grid-lines"></div>
                            <div id="selection-handles" class="selection-handles"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ã‚¤ãƒ³ã‚¹ãƒšã‚¯ã‚¿ãƒ¼ -->
            <aside class="inspector">
                <div class="inspector-section">
                    <h3>Transform</h3>
                    <div class="transform-controls">
                        <div class="control-row">
                            <label>Position X:</label>
                            <input id="pos-x" type="number" step="0.1" value="0">
                        </div>
                        <div class="control-row">
                            <label>Position Y:</label>
                            <input id="pos-y" type="number" step="0.1" value="0">
                        </div>
                        <div class="control-row">
                            <label>Scale X:</label>
                            <input id="scale-x" type="number" step="0.01" value="1.0" min="0.1" max="3.0">
                        </div>
                        <div class="control-row">
                            <label>Scale Y:</label>
                            <input id="scale-y" type="number" step="0.01" value="1.0" min="0.1" max="3.0">
                        </div>
                    </div>
                </div>
                
                <div class="inspector-section">
                    <h3>Animation</h3>
                    <div class="animation-controls">
                        <select id="animation-select">
                            <option value="">Select Animation</option>
                        </select>
                        <div class="playback-controls">
                            <button id="btn-play" class="btn btn-sm">â–¶ï¸</button>
                            <button id="btn-pause" class="btn btn-sm">â¸ï¸</button>
                            <button id="btn-stop" class="btn btn-sm">â¹ï¸</button>
                        </div>
                    </div>
                </div>
            </aside>
        </main>

        <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ -->
        <footer class="app-footer">
            <div class="status-left">
                <span id="fps-counter">FPS: --</span>
                <span id="mouse-coords">Mouse: (0, 0)</span>
            </div>
            <div class="status-center">
                <span id="status-message">Ready</span>
            </div>
            <div class="status-right">
                <span id="memory-usage">Memory: --</span>
                <span id="app-version">v2.0.0</span>
            </div>
        </footer>
    </div>

    <!-- ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚° -->
    <div id="modal-overlay" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title">Title</h3>
                <button id="modal-close" class="close-btn">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                Content
            </div>
            <div class="modal-footer">
                <button id="modal-cancel" class="btn btn-secondary">Cancel</button>
                <button id="modal-confirm" class="btn btn-primary">OK</button>
            </div>
        </div>
    </div>

    <!-- Spine WebGL é‡è¤‡ãƒ­ãƒ¼ãƒ‰é˜²æ­¢ -->
    <script>
        // ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã‚¬ãƒ¼ãƒ‰: Spine WebGL ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®é‡è¤‡ãƒ­ãƒ¼ãƒ‰é˜²æ­¢
        window.__SPINE_WEBGL_LOADED__ = false;
        
        // ãƒ‡ãƒãƒƒã‚°: èª­ã¿è¾¼ã¿æ¸ˆã¿ã‚¹ã‚¯ãƒªãƒ—ãƒˆä¸€è¦§è¡¨ç¤º
        window.addEventListener('DOMContentLoaded', () => {
            const scripts = Array.from(document.scripts).map(s => s.src.split('/').pop()).filter(s => s);
            console.log('ğŸ“‹ Document scripts:', scripts);
            
            // spine-webgl.jsé‡è¤‡ãƒã‚§ãƒƒã‚¯
            const spineScripts = scripts.filter(s => s.includes('spine-webgl'));
            if (spineScripts.length > 1) {
                console.warn('âš ï¸ Spine WebGL é‡è¤‡ãƒ­ãƒ¼ãƒ‰æ¤œå‡º:', spineScripts);
            }
            
            // ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ
            setupDemoModeButton();
            
            // v3çµ±åˆã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ
            setupV3Testing();
            
            // ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆè¿½åŠ 
            setupV3KeyboardShortcuts();
        });
        
        /**
         * Phase 1: æœ€å°æ§‹æˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
         */
        function setupV3KeyboardShortcuts() {
            document.addEventListener('keydown', (event) => {
                // Ctrl+Alt+çµ„ã¿åˆã‚ã›ã§æœ€å°æ§‹æˆæ©Ÿèƒ½å®Ÿè¡Œ
                if (event.ctrlKey && event.altKey) {
                    switch(event.key) {
                        case 't': // Ctrl+Alt+T: Spineãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
                            event.preventDefault();
                            if (window.simpleSpineManager) {
                                window.simpleSpineManager.testSpineLoad();
                            }
                            break;
                        case 'p': // Ctrl+Alt+P: ã·ã‚‰ã£ã¨ãã‚“ä½œæˆ
                            event.preventDefault();
                            if (window.simpleSpineManager) {
                                window.simpleSpineManager.createCharacter('purattokun');
                            }
                            break;
                        case 'n': // Ctrl+Alt+N: nezumiä½œæˆ
                            event.preventDefault();
                            if (window.simpleSpineManager) {
                                window.simpleSpineManager.createCharacter('nezumi');
                            }
                            break;
                        case 'c': // Ctrl+Alt+C: å…¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å‰Šé™¤
                            event.preventDefault();
                            if (window.simpleSpineManager) {
                                window.simpleSpineManager.clearAll();
                            }
                            break;
                        case 'd': // Ctrl+Alt+D: ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«è¡¨ç¤º/éè¡¨ç¤º
                            event.preventDefault();
                            const panel = document.getElementById('simple-debug-panel');
                            if (panel) {
                                panel.remove();
                            } else {
                                addSimpleDebugPanel();
                            }
                            break;
                    }
                }
            });
            
            console.log('âŒ¨ï¸ Phase 1: æœ€å°æ§‹æˆã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆæœ‰åŠ¹åŒ–');
            console.log('ğŸ“‹ ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆä¸€è¦§:');
            console.log('  Ctrl+Alt+T: Spineãƒ†ã‚¹ãƒˆå®Ÿè¡Œ');
            console.log('  Ctrl+Alt+P: ã·ã‚‰ã£ã¨ãã‚“ä½œæˆ');
            console.log('  Ctrl+Alt+N: nezumiä½œæˆ');
            console.log('  Ctrl+Alt+C: å…¨ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼å‰Šé™¤');
            console.log('  Ctrl+Alt+D: ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«è¡¨ç¤º/éè¡¨ç¤º');
        }
        
        /**
         * ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³è¨­å®š
         */
        function setupDemoModeButton() {
            const demoBtn = document.getElementById('btn-demo-mode');
            if (!demoBtn) {
                console.warn('âš ï¸ Demo mode button not found');
                return;
            }
            
            demoBtn.addEventListener('click', async () => {
                console.log('ğŸš€ Demo mode button clicked');
                
                try {
                    // ç¾åœ¨ã®ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§start.htmlã«é·ç§»
                    const currentUrl = window.location.href;
                    const baseUrl = currentUrl.substring(0, currentUrl.lastIndexOf('/'));
                    const startUrl = `${baseUrl}/start.html`;
                    
                    console.log('ğŸŒ Navigating to:', startUrl);
                    window.location.href = startUrl;
                    
                } catch (error) {
                    console.error('âŒ Demo mode navigation error:', error);
                    
                    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: æ–°ã—ã„ã‚¿ãƒ–ã§é–‹ã
                    try {
                        window.open('start.html', '_blank');
                    } catch (fallbackError) {
                        console.error('âŒ Fallback navigation failed:', fallbackError);
                        alert('ãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã®èµ·å‹•ã«å¤±æ•—ã—ã¾ã—ãŸã€‚');
                    }
                }
            });
            
            console.log('âœ… Demo mode button setup complete');
        }
        
        /**
         * Phase 1: æœ€å°æ§‹æˆSpineã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–
         */
        function setupV3Testing() {
            // æœ€å°æ§‹æˆSpineã‚·ã‚¹ãƒ†ãƒ ã®åˆæœŸåŒ–ç¢ºèª
            setTimeout(() => {
                console.log('ğŸš€ Phase 1: æœ€å°æ§‹æˆSpineã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ç¢ºèª');
                
                // åŸºæœ¬æ©Ÿèƒ½ãƒã‚§ãƒƒã‚¯
                const basicStatus = {
                    spine: typeof spine !== 'undefined',
                    simpleSpineManager: !!window.simpleSpineManager,
                    spineStage: !!document.getElementById('spine-stage')
                };
                
                console.table(basicStatus);
                
                // ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«è¿½åŠ 
                addSimpleDebugPanel();
                
            }, 2000);
        }
        
        /**
         * Phase 1: æœ€å°æ§‹æˆãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«
         */
        function addSimpleDebugPanel() {
            // ãƒ‡ãƒãƒƒã‚°ãƒ‘ãƒãƒ«ãŒæ—¢ã«å­˜åœ¨ã™ã‚‹å ´åˆã¯ã‚¹ã‚­ãƒƒãƒ—
            if (document.getElementById('simple-debug-panel')) return;
            
            const debugPanel = document.createElement('div');
            debugPanel.id = 'simple-debug-panel';
            debugPanel.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: rgba(0, 0, 0, 0.8);
                color: white;
                padding: 15px;
                border-radius: 8px;
                font-family: monospace;
                font-size: 12px;
                z-index: 1000;
                min-width: 250px;
                max-height: 400px;
                overflow-y: auto;
            `;
            
            debugPanel.innerHTML = `
                <h4 style="margin: 0 0 10px 0; color: #4CAF50;">ğŸš€ v2.0 (v3ãƒ™ãƒ¼ã‚¹) ã‚·ãƒ³ãƒ—ãƒ«Spineçµ±åˆ</h4>
                <button onclick="window.createPurattokun?.()" style="background: #2196F3; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; margin: 2px;">ğŸ± ã·ã‚‰ã£ã¨ãã‚“</button>
                <button onclick="window.createNezumi?.()" style="background: #FF9800; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; margin: 2px;">ğŸ­ nezumi</button>
                <button onclick="window.clearAllSpineCharacters?.()" style="background: #f44336; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; margin: 2px;">ğŸ—‘ï¸ å…¨å‰Šé™¤</button>
                <button onclick="window.testSimpleSpineV3?.()" style="background: #9C27B0; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; margin: 2px;">ğŸ§ª ãƒ†ã‚¹ãƒˆ</button>
                <hr style="margin: 10px 0; border: 1px solid #555;">
                <button onclick="console.log('SpineçŠ¶æ…‹:', {spine: typeof spine, manager: !!window.simpleSpineManagerV3, ready: window.simpleSpineManagerV3?.isSpineReady})" style="background: #607D8B; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; margin: 2px;">ğŸ“Š çŠ¶æ…‹ç¢ºèª</button>
                <button onclick="document.getElementById('simple-debug-panel').remove()" style="background: #666; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer; margin: 2px;">âœ– é–‰ã˜ã‚‹</button>
                <div id="simple-debug-status" style="margin-top: 10px; padding: 8px; background: rgba(255,255,255,0.1); border-radius: 4px;">
                    v3ãƒ™ãƒ¼ã‚¹ ã‚·ãƒ³ãƒ—ãƒ«Spineçµ±åˆåˆæœŸåŒ–ä¸­...
                </div>
            `;
            
            document.body.appendChild(debugPanel);
            
            // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
            updateSimpleDebugStatus();
            
            // 5ç§’æ¯ã«ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
            setInterval(updateSimpleDebugStatus, 5000);
        }
        
        /**
         * Phase 1: æœ€å°æ§‹æˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
         */
        function updateSimpleDebugStatus() {
            const statusElement = document.getElementById('simple-debug-status');
            if (!statusElement) return;
            
            const status = {
                spine: typeof spine !== 'undefined' ? 'âœ…' : 'âŒ',
                manager: window.simpleSpineManagerV3 ? 'âœ…' : 'âŒ',
                characters: window.simpleSpineManagerV3 ? window.simpleSpineManagerV3.characters.size : 0,
                stage: document.getElementById('spine-stage') ? 'âœ…' : 'âŒ'
            };
            
            statusElement.innerHTML = `
                Spine WebGL: ${status.spine}<br>
                Simple Manager: ${status.manager}<br>
                Characters: ${status.characters}<br>
                Stage: ${status.stage}<br>
                <small>Updated: ${new Date().toLocaleTimeString()}</small>
            `;
        }
    </script>

    <!-- JavaScriptèª­ã¿è¾¼ã¿ -->
    <!-- v3 Spineçµ±åˆã‚·ã‚¹ãƒ†ãƒ  -->
    <script src="js/spine-simple-v3.js"></script>
    
    <!-- æ–°ã—ã„çµ±åˆã‚·ã‚¹ãƒ†ãƒ  -->
    <script type="module">
        import { DemoApp } from './app.js';
        // import { SpineDebug } from './js/spine-debug.js'; // Phase1å‰Šé™¤æ¸ˆã¿
        
        // ãƒ‡ãƒãƒƒã‚°ã‚·ã‚¹ãƒ†ãƒ é–‹å§‹
        // SpineDebug.startDebugging(); // Phase1å‰Šé™¤æ¸ˆã¿
        
        // ã‚¢ãƒ—ãƒªåˆæœŸåŒ–ï¼ˆv3çµ±åˆã‚·ã‚¹ãƒ†ãƒ èª­ã¿è¾¼ã¿å¾Œï¼‰
        window.addEventListener('DOMContentLoaded', async () => {
            console.log('ğŸš€ DemoAppåˆæœŸåŒ–é–‹å§‹');
            
            // v3çµ±åˆã‚·ã‚¹ãƒ†ãƒ ã®èª­ã¿è¾¼ã¿ç¢ºèª
            console.log('ğŸ” v3çµ±åˆã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹:', {
                spineCharacterManager: !!window.spineCharacterManager,
                testSpineV3: !!window.testSpineV3,
                spine: typeof spine !== 'undefined'
            });
            
            window.demoApp = new DemoApp();
            
            console.log('âœ… DemoAppåˆæœŸåŒ–å®Œäº†');
        });
    </script>
    
    <!-- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: æ—§UIã‚·ã‚¹ãƒ†ãƒ ï¼ˆäº’æ›æ€§ã®ãŸã‚ï¼‰ -->
    <!-- <script src="js/spine-simple-new.js"></script> -->
    <!-- <script src="js/ui-panels.js"></script> -->
    <!-- <script src="js/ui-menus.js"></script> -->
    <!-- <script src="js/ui-dialogs.js"></script> -->
    <!-- <script src="js/ui.js"></script> -->
    <!-- <script src="js/export.js"></script> -->
</body>
</html>