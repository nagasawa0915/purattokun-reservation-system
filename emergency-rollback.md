# 🚨 緊急ロールバック手順

## 🔴 即座実行（CPU負荷・操作不能時）

### **Step 1: ブラウザ緊急停止**
```
Ctrl+F5 (ハードリフレッシュ)
または
タブを完全に閉じる
```

### **Step 2: 安全なアクセス**
```
http://localhost:8000/index.html
```
**⚠️ 重要**: `?edit=true` を付けずにアクセス

## 🔄 完全ロールバック（必要時）

### **Git履歴による安全な復旧**
```bash
# 現在の状態確認
git log --oneline -5

# 安全な過去バージョンに戻る
git reset --hard d7814e9  # 品質保証体制確立時点
# または
git reset --hard 1247a6b  # 構文エラー解決時点

# 強制プッシュ（必要時）
git push --force
```

### **安全な過去バージョン一覧**
- `d7814e9`: 品質保証体制確立（無限ループ防止システム導入済み）
- `1247a6b`: 構文エラー完全解決（基本機能正常動作確認済み）
- `b5f4634`: SyntaxError解決（4件エラー修正済み）

## 🛡️ 予防策（今後）

### **編集モードアクセス前チェック**
1. **通常モードで動作確認**
   ```
   http://localhost:8000/index.html (正常動作確認)
   ```

2. **F12コンソールクリア**
   ```
   Console右クリック → Clear Console
   ```

3. **編集モード起動**
   ```
   http://localhost:8000/index.html?edit=true
   ```

4. **3秒ルール**: 3秒以内に異常なメッセージが続く場合は即座にタブ閉じ

### **危険サイン**
- ❌ コンソールで数字がカウントアップし続ける
- ❌ CPU使用率が20%以上をキープ
- ❌ ブラウザが重くなる・反応が鈍くなる
- ❌ 「待機中...」が3秒以上継続

## 🎯 今回の修正後の安全確認

### **修正内容確認**
- ✅ 無限ループ完全停止（50回制限・6秒タイムアウト）
- ✅ CPU負荷軽減（デバッグ出力最小化）
- ✅ ウィンドウ重複防止（重複作成防止フラグ）
- ✅ 既存システム完全保護

### **テスト手順**
1. **Ctrl+F5** でページリロード
2. **F12コンソール**で異常メッセージなし確認
3. **3秒待機**して安定性確認
4. **編集機能**テスト実行

---
**作成日**: 2025-08-07  
**目的**: CPU負荷・操作不能問題の緊急対応・予防