<\!DOCTYPE html>
<html>
<head>
    <title>ç·¨é›†ãƒœã‚¿ãƒ³è¨ºæ–­ãƒ†ã‚¹ãƒˆ</title>
</head>
<body>
    <h1>ç·¨é›†ãƒœã‚¿ãƒ³è¡¨ç¤ºè¨ºæ–­</h1>
    <div id="test-area"></div>
    
    <script>
        console.log('ğŸ” ç·¨é›†ãƒœã‚¿ãƒ³è¨ºæ–­é–‹å§‹');
        
        // URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ç¢ºèª
        const urlParams = new URLSearchParams(window.location.search);
        const editMode = urlParams.get('edit') === 'true';
        console.log('ğŸ“‹ URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ edit:', urlParams.get('edit'));
        console.log('ğŸ“‹ ç·¨é›†ãƒ¢ãƒ¼ãƒ‰:', editMode);
        
        if (editMode) {
            console.log('âœ… ç·¨é›†ãƒ¢ãƒ¼ãƒ‰æ¤œå‡º - JSãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿é–‹å§‹');
            
            const script = document.createElement('script');
            script.src = 'spine-positioning-system-minimal.js';
            script.onload = function() {
                console.log('âœ… JSãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿å®Œäº†');
                
                // 1ç§’å¾Œã«ãƒœã‚¿ãƒ³å­˜åœ¨ç¢ºèª
                setTimeout(() => {
                    const button = document.getElementById('minimal-edit-button');
                    if (button) {
                        console.log('âœ… ç·¨é›†ãƒœã‚¿ãƒ³ç™ºè¦‹:', button.textContent);
                        console.log('ğŸ“ ãƒœã‚¿ãƒ³ä½ç½®:', {
                            position: button.style.position,
                            top: button.style.top,
                            right: button.style.right,
                            display: button.style.display,
                            visible: button.offsetHeight > 0
                        });
                    } else {
                        console.error('âŒ ç·¨é›†ãƒœã‚¿ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                        
                        // DOMå†…ã®ãƒœã‚¿ãƒ³è¦ç´ ã‚’å…¨ã¦ç¢ºèª
                        const allButtons = document.querySelectorAll('button');
                        console.log('ğŸ“‹ DOMå†…ã®å…¨ãƒœã‚¿ãƒ³:', Array.from(allButtons).map(b => ({
                            id: b.id,
                            text: b.textContent,
                            style: b.style.cssText
                        })));
                    }
                }, 1000);
            };
            script.onerror = function() {
                console.error('âŒ JSãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿å¤±æ•—');
            };
            document.head.appendChild(script);
        } else {
            console.log('ğŸ“‹ é€šå¸¸ãƒ¢ãƒ¼ãƒ‰ - ?edit=true ã‚’è¿½åŠ ã—ã¦ãã ã•ã„');
        }
    </script>
</body>
</html>
EOF < /dev/null
