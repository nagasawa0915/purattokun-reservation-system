<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Ç∑„É≥„Éó„É´SpineÁµ±Âêà„ÉÜ„Çπ„Éà - „Å∑„Çâ„Å£„Å®„Åè„Çì</title>
    <style>
        /* „É™„Çª„ÉÉ„Éà */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        /* ËÉåÊôØ„Ç≥„É≥„ÉÜ„Éä */
        .background-container {
            position: relative;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            overflow: hidden;
        }
        
        /* ËÉåÊôØÁîªÂÉè */
        .background-image {
            width: 100%;
            height: auto;
            display: block;
        }
        
        /* Èõ≤„ÅÆÂÖ±ÈÄö„Çπ„Çø„Ç§„É´ */
        .cloud {
            position: absolute;
            opacity: 0.7;
            pointer-events: none;
        }
        
        /* ÂêÑÈõ≤„ÅÆ‰ΩçÁΩÆ */
        .cloud1 { left: -5%; top: 10%; width: 8%; animation: moveCloud1 25s linear infinite; }
        .cloud2 { left: -5%; top: 15%; width: 8%; animation: moveCloud2 30s linear infinite; }
        .cloud3 { left: -5%; top: 8%; width: 8%; animation: moveCloud3 35s linear infinite; }
        
        /* Èõ≤„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ */
        @keyframes moveCloud1 { from { left: -10%; } to { left: 110%; } }
        @keyframes moveCloud2 { from { left: -10%; } to { left: 110%; } }
        @keyframes moveCloud3 { from { left: -10%; } to { left: 110%; } }
        
        /* „Å∑„Çâ„Å£„Å®„Åè„ÇìCanvas */
        #purattokun-canvas {
            position: absolute;
            left: 35%;   /* 18% ‚Üí 35% „Å´Â§âÊõ¥ÔºàÂè≥„Å´ÁßªÂãïÔºâ */
            top: 75%;    /* 65% ‚Üí 75% „Å´Â§âÊõ¥Ôºà„Åï„Çâ„Å´‰∏ã„Å´ÁßªÂãïÔºâ */
            transform: translate(-50%, -50%);
            width: 80%;  /* 32% ‚Üí 80% „Å´Â§âÊõ¥ÔºàÂ§ßÂπÖÊã°Â§ßÔºâ */
            height: 80%; /* 32% ‚Üí 80% „Å´Â§âÊõ¥ÔºàÂ§ßÂπÖÊã°Â§ßÔºâ */
            pointer-events: auto;
        }
        
        .info {
            margin: 20px;
            padding: 20px;
            background: #f0f0f0;
            border-radius: 8px;
        }
        
        .status {
            margin-top: 10px;
            padding: 10px;
            background: #e0e0e0;
            border-radius: 4px;
            font-family: monospace;
        }
        
        /* „Ç¨„Çø„É≥„ÉÜ„Çπ„ÉàÁî®„Çµ„Éº„Éì„Çπ„Çª„ÇØ„Ç∑„Éß„É≥ */
        .services {
            padding: 80px 0;
            background: #fff;
            position: relative;
            overflow: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .services h2 {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 3rem;
            color: #333;
        }
        
        .service-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }
        
        .service-card {
            background: #fff;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            text-align: center;
            transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            opacity: 0;
            transform: translateY(20px) scale(0.95);
        }
        
        .service-card.animate {
            opacity: 1;
            transform: translateY(0) scale(1);
        }
        
        .service-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .service-card h3 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }
        
        .service-card p {
            color: #666;
            line-height: 1.6;
        }
        
        /* HeroÊßãÈÄ†„ÉÜ„Çπ„ÉàÁî®CSSÔºàÁèæÂú®„ÅÆ„Çµ„Ç§„Éà„Å®Âêå„ÅòÔºâ */
        .hero {
            position: relative;
            display: flex;
            align-items: flex-start;
            justify-content: flex-start;
            padding: 120px 20px 40px;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 107, 107, 0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
            z-index: 0;
        }
        
        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .hero-content {
            position: absolute;
            z-index: 20;
            max-width: 280px;
            background: rgba(255, 255, 255, 0.6);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            backdrop-filter: blur(8px);
            left: 40px;
            top: 130px;
        }
        
        .hero-title {
            font-size: 2rem;
            color: #333;
            margin-bottom: 0.8rem;
            line-height: 1.2;
            font-weight: 600;
        }
        
        .series-text {
            display: block;
            font-size: 0.9em;
            margin-top: 0.2rem;
        }
        
        .hero-subtitle {
            font-size: 1rem;
            color: #666;
            margin-bottom: 1.5rem;
        }
        
        .cta-button {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .cta-button:hover {
            background: #ff5252;
        }
        
        /* „Ç≥„É≥„Çª„Éó„Éà„Çª„ÇØ„Ç∑„Éß„É≥ */
        .concept {
            padding: 80px 0;
            background: linear-gradient(45deg, #f8f9fa 0%, #fff5f5 50%, #f8f9fa 100%);
            background-size: 400% 400%;
            animation: gradientShift 15s ease-in-out infinite;
            position: relative;
            overflow: hidden;
        }
        
        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        .concept h2 {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 3rem;
            color: #333;
        }
        
        .concept-content {
            display: flex;
            align-items: center;
            gap: 3rem;
        }
        
        .concept-text {
            flex: 1;
            opacity: 0;
            transform: translateX(-50px);
            transition: all 0.8s ease-out;
        }
        
        .concept-text.animate {
            opacity: 1;
            transform: translateX(0);
        }
        
        .concept-image {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transform: translateX(50px) scale(0.8);
            transition: all 0.8s ease-out 0.3s;
        }
        
        .concept-image.animate {
            opacity: 1;
            transform: translateX(0) scale(1);
        }
        
        .concept-title {
            color: #ff6b6b;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .concept-features {
            list-style: none;
            margin-top: 2rem;
        }
        
        .concept-features li {
            padding: 0.5rem 0;
            color: #555;
            position: relative;
            padding-left: 1.5rem;
        }
        
        .concept-features li:before {
            content: "üêæ";
            position: absolute;
            left: 0;
        }
        
        .cat-house-illustration {
            text-align: center;
        }
        
        .house {
            font-size: 6rem;
            margin-bottom: 1rem;
        }
        
        .cats {
            font-size: 2rem;
            letter-spacing: 1rem;
        }
        
        /* „ÅäÂïè„ÅÑÂêà„Çè„Åõ„Çª„ÇØ„Ç∑„Éß„É≥ */
        .contact {
            padding: 80px 0;
            background: #fff;
        }
        
        .contact h2 {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 3rem;
            color: #333;
        }
        
        .contact-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: start;
        }
        
        .contact-subtitle {
            color: #ff6b6b;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }
        
        .contact-info p {
            color: #666;
            margin-bottom: 2rem;
        }
        
        .contact-details {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            font-style: normal;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #555;
        }
        
        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .contact-form input,
        .contact-form textarea {
            padding: 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        .contact-form input:focus,
        .contact-form textarea:focus {
            outline: none;
            border-color: #ff6b6b;
        }
        
        .contact-form button {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 15px;
            font-size: 1.1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .contact-form button:hover {
            background: #ff5252;
        }
    </style>
</head>
<body>
    <div class="info">
        <h1>„Ç∑„É≥„Éó„É´SpineÁµ±Âêà„ÉÜ„Çπ„Éà + HeroÊßãÈÄ†</h1>
        <p>„Ç∑„É≥„Éó„É´„Çµ„É≥„Éó„É´„Å´.heroÊßãÈÄ†„ÇíËøΩÂä†„Åó„Å¶„Ç¨„Çø„É≥„ÇíÂÜçÁèæ„ÉÜ„Çπ„Éà</p>
        <div class="status" id="status">ÂàùÊúüÂåñ‰∏≠...</div>
    </div>
    
    <!-- HeroÊßãÈÄ†„ÉÜ„Çπ„Éà -->
    <section class="hero">
        <!-- ËÉåÊôØ„Ç≥„É≥„ÉÜ„Éä -->
        <div class="background-container">
            <img src="assets/images/„ÇØ„É©„Ç¶„Éâ„Éë„Éº„Éà„Éä„ÉºTOP.png" alt="ËÉåÊôØ" class="background-image">
            <img src="assets/images/kumo1.png" alt="Èõ≤1" class="cloud cloud1">
            <img src="assets/images/kumo2.png" alt="Èõ≤2" class="cloud cloud2">
            <img src="assets/images/kumo3.png" alt="Èõ≤3" class="cloud cloud3">
            <canvas id="purattokun-canvas"></canvas>
        </div>
        
        <!-- UIË¶ÅÁ¥†ÔºàÁèæÂú®„ÅÆ„Çµ„Ç§„Éà„Å®Âêå„ÅòÔºâ -->
        <header class="hero-content">
            <h1 class="hero-title">„Å∑„Çâ„Å£„Å®„Åè„Çì<br><span class="series-text">„Ç∑„É™„Éº„Ç∫</span></h1>
            <p class="hero-subtitle">„ÅÇ„Å™„Åü„ÅÆ„Éì„Ç∏„Éç„Çπ„Çí„Çµ„Éù„Éº„Éà</p>
            <button class="cta-button" type="button">Ë©≥„Åó„ÅèË¶ã„Çã</button>
        </header>
    </section>
    
    <!-- „Ç¨„Çø„É≥„ÉÜ„Çπ„ÉàÁî®„Çµ„Éº„Éì„Çπ„Çª„ÇØ„Ç∑„Éß„É≥ -->
    <section class="services">
        <div class="container">
            <h2>„Ç¨„Çø„É≥„ÉÜ„Çπ„Éà - „Çµ„Éº„Éì„ÇπÂÜÖÂÆπ</h2>
            <div class="service-grid">
                <div class="service-card">
                    <div class="service-icon">üìÖ</div>
                    <h3>„Çµ„Éº„Éì„Çπ1</h3>
                    <p>„Åì„Çå„ÅØ„Ç¨„Çø„É≥„ÉÜ„Çπ„ÉàÁî®„ÅÆ„Çµ„Éº„Éì„Çπ„Ç´„Éº„Éâ1„Åß„Åô„ÄÇ</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">üí∞</div>
                    <h3>„Çµ„Éº„Éì„Çπ2</h3>
                    <p>„Åì„Çå„ÅØ„Ç¨„Çø„É≥„ÉÜ„Çπ„ÉàÁî®„ÅÆ„Çµ„Éº„Éì„Çπ„Ç´„Éº„Éâ2„Åß„Åô„ÄÇ</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">üéì</div>
                    <h3>„Çµ„Éº„Éì„Çπ3</h3>
                    <p>„Åì„Çå„ÅØ„Ç¨„Çø„É≥„ÉÜ„Çπ„ÉàÁî®„ÅÆ„Çµ„Éº„Éì„Çπ„Ç´„Éº„Éâ3„Åß„Åô„ÄÇ</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">üê±</div>
                    <h3>„Çµ„Éº„Éì„Çπ4</h3>
                    <p>„Åì„Çå„ÅØ„Ç¨„Çø„É≥„ÉÜ„Çπ„ÉàÁî®„ÅÆ„Çµ„Éº„Éì„Çπ„Ç´„Éº„Éâ4„Åß„Åô„ÄÇ</p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- „Ç¨„Çø„É≥„ÉÜ„Çπ„ÉàÁî®„Ç≥„É≥„Çª„Éó„Éà„Çª„ÇØ„Ç∑„Éß„É≥ -->
    <section id="concept" class="concept">
        <div class="container">
            <header class="section-header">
                <h2 class="section-title">ÁßÅ„Åü„Å°„ÅÆ„Ç≥„É≥„Çª„Éó„Éà</h2>
            </header>
            <div class="concept-content">
                <article class="concept-text">
                    <h3 class="concept-title">Áå´„Éï„Ç°„Éº„Çπ„Éà„ÅÆ‰Ωè„Åæ„ÅÑ„Å•„Åè„Çä</h3>
                    <p>5Âåπ„ÅÆÂ≠êÁå´„Çí‰øùË≠∑„Åó„ÅüÁµåÈ®ì„Åã„Çâ„ÄÅ‰∏ÄËà¨ÁöÑ„Å™‰ΩèÂÆÖ„Åå<strong>Áå´„Å´„Å®„Å£„Å¶ÂøÖ„Åö„Åó„ÇÇÂø´ÈÅ©„Åß„ÅØ„Å™„ÅÑ</strong>„Åì„Å®„Å´Ê∞ó„Å•„Åç„Åæ„Åó„Åü„ÄÇ</p>
                    <p><strong>Áå´„ÅÆÁøíÊÄß„Å®Ë°åÂãï</strong>„ÇíÊ∑±„ÅèÁêÜËß£„Åó„ÄÅ‰∫∫Èñì„ÅÆÁîüÊ¥ª„Å´„ÇÇÈÖçÊÖÆ„Åó„Åü<strong>‰ΩèÁ©∫ÈñìË®≠Ë®à</strong>„ÇíË°å„ÅÜ„Åì„Å®„Åß„ÄÅ<strong>Áå´„Å®È£º„ÅÑ‰∏ª„ÅÆ‰∏°Êñπ„ÅåÂπ∏„Åõ„Å´ÊöÆ„Çâ„Åõ„ÇãÁí∞Â¢É</strong>„ÇíÂÆüÁèæ„Åó„Åæ„Åô„ÄÇ</p>
                    <ul class="concept-features">
                        <li>„Ç≠„É£„ÉÉ„Éà„Ç¶„Ç©„Éº„ÇØ„Éª„Ç≠„É£„ÉÉ„Éà„Çø„ÉØ„Éº„ÅÆË®≠ÁΩÆ</li>
                        <li>ËÑ±Ëµ∞Èò≤Ê≠¢Êââ„ÅÆË®≠ÁΩÆ</li>
                        <li>Áå´Â∞ÇÁî®„Çπ„Éö„Éº„Çπ„ÅÆÁ¢∫‰øù</li>
                        <li>ÂÆâÂÖ®ÊÄß„ÇíÈáçË¶ñ„Åó„ÅüÁ¥†ÊùêÈÅ∏„Å≥</li>
                        <li>„ÅäÊâãÂÖ•„Çå„Åó„ÇÑ„Åô„ÅÑË®≠Ë®à</li>
                    </ul>
                </article>
                <aside class="concept-image">
                    <div class="cat-house-illustration">
                        <div class="house">üè†</div>
                        <div class="cats">üê±üê±üê±</div>
                    </div>
                </aside>
            </div>
        </div>
    </section>
    
    <!-- „Ç¨„Çø„É≥„ÉÜ„Çπ„ÉàÁî®„ÅäÂïè„ÅÑÂêà„Çè„Åõ„Çª„ÇØ„Ç∑„Éß„É≥ -->
    <section id="contact" class="contact">
        <div class="container">
            <header class="section-header">
                <h2 class="section-title">„ÅäÂïè„ÅÑÂêà„Çè„Åõ</h2>
            </header>
            <div class="contact-content">
                <div class="contact-info">
                    <h3 class="contact-subtitle">„ÅîÁõ∏Ë´á„Éª„ÅäË¶ãÁ©ç„Çä„ÅØÁÑ°Êñô„Åß„Åô</h3>
                    <p>Áå´„Å®„ÅÆÁêÜÊÉ≥„ÅÆÊöÆ„Çâ„Åó„Å´„Å§„ÅÑ„Å¶„ÄÅ„ÅäÊ∞óËªΩ„Å´„ÅîÁõ∏Ë´á„Åè„Å†„Åï„ÅÑ„ÄÇ</p>
                    <address class="contact-details">
                        <div class="contact-item">
                            <span class="icon">üìû</span>
                            <span>03-1234-5678</span>
                        </div>
                        <div class="contact-item">
                            <span class="icon">‚úâÔ∏è</span>
                            <span>info@necooya.com</span>
                        </div>
                        <div class="contact-item">
                            <span class="icon">üïí</span>
                            <span>Âπ≥Êó• 9:00-18:00</span>
                        </div>
                    </address>
                </div>
                <form class="contact-form">
                    <input type="text" placeholder="„ÅäÂêçÂâç" required>
                    <input type="email" placeholder="„É°„Éº„É´„Ç¢„Éâ„É¨„Çπ" required>
                    <textarea placeholder="„ÅäÂïè„ÅÑÂêà„Çè„ÅõÂÜÖÂÆπ" rows="5" required></textarea>
                    <button type="submit">ÈÄÅ‰ø°„Åô„Çã</button>
                </form>
            </div>
        </div>
    </section>
    
    <!-- Spine WebGL Runtime -->
    <script src="https://unpkg.com/@esotericsoftware/spine-webgl@4.1.*/dist/iife/spine-webgl.js"></script>
    
    <!-- Phase A-1: Spine v2.0Áµ±Âêà„Ç∑„Çπ„ÉÜ„É†„ÇíËøΩÂä† -->
    <script src="assets/spine/spine-coordinate-utils.js"></script>
    <script src="assets/spine/spine-character-manager.js"></script>
    <script src="assets/spine/spine-debug-window.js"></script>
    <script src="assets/spine/spine-animation-controller.js"></script>
    <script src="assets/spine/spine-integration-v2.js"></script>
    
    <!-- Phase B: script.jsÔºà„É°„Ç§„É≥JavaScriptÔºâ„ÇíËøΩÂä†„Åó„Å¶„Ç¨„Çø„É≥ÂéüÂõ†„ÇíÁâπÂÆö -->
    <script src="assets/js/script.js"></script>
    
    <!-- ÊúÄÂ∞èÈôê„ÅÆSpineÁµ±Âêà -->
    <script>
        const status = document.getElementById('status');
        
        // SpineÂàùÊúüÂåñ„ÇíÂæÖ„Å§
        function waitForSpine() {
            if (typeof spine !== 'undefined') {
                status.textContent = '‚úÖ SpineË™≠„ÅøËæº„ÅøÂÆå‰∫Ü';
                initSpineCharacter();
            } else {
                status.textContent = '‚è≥ SpineË™≠„ÅøËæº„Åø‰∏≠...';
                setTimeout(waitForSpine, 100);
            }
        }
        
        // Spine„Ç≠„É£„É©„ÇØ„Çø„ÉºÂàùÊúüÂåñ
        async function initSpineCharacter() {
            try {
                const canvas = document.getElementById('purattokun-canvas');
                const gl = canvas.getContext('webgl', { alpha: true });
                
                if (!gl) {
                    throw new Error('WebGL„Çµ„Éù„Éº„Éà„Å™„Åó');
                }
                
                // Canvas„Çµ„Ç§„Ç∫Ë®≠ÂÆöÔºà„É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøúÔºâ
                const updateCanvasSize = () => {
                    const rect = canvas.getBoundingClientRect();
                    canvas.width = rect.width;
                    canvas.height = rect.height;
                    console.log('CanvasÂÆü„Çµ„Ç§„Ç∫:', canvas.width + 'x' + canvas.height);
                };
                updateCanvasSize();
                
                // „Ç¶„Ç£„É≥„Éâ„Ç¶„É™„Çµ„Ç§„Ç∫ÊôÇ„Å´Canvas„Çµ„Ç§„Ç∫„ÇÇÊõ¥Êñ∞
                window.addEventListener('resize', updateCanvasSize);
                
                status.textContent = 'üìÅ Spine„Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„Åø‰∏≠...';
                
                // „Ç¢„Çª„ÉÉ„Éà„Éû„Éç„Éº„Ç∏„É£„ÉºÔºà„Éë„Çπ‰øÆÊ≠£Ôºâ
                const basePath = 'assets/spine/characters/purattokun/';
                const assetManager = new spine.AssetManager(gl, basePath);
                assetManager.loadTextureAtlas('purattokun.atlas');
                assetManager.loadJson('purattokun.json');
                
                // „Ç¢„Çª„ÉÉ„ÉàË™≠„ÅøËæº„ÅøÂÆå‰∫ÜÂæÖ„Å°Ôºà„Éá„Éê„ÉÉ„Ç∞‰ªò„ÅçÔºâ
                await new Promise((resolve, reject) => {
                    let checkCount = 0;
                    const maxChecks = 100; // 10Áßí„Åß„Çø„Ç§„É†„Ç¢„Ç¶„Éà
                    
                    const checkAssets = () => {
                        checkCount++;
                        
                        if (assetManager.isLoadingComplete()) {
                            console.log('‚úÖ „Ç¢„Çª„ÉÉ„ÉàË™≠„ÅøËæº„ÅøÂÆå‰∫Ü');
                            resolve();
                        } else if (checkCount > maxChecks) {
                            const errors = assetManager.getErrors();
                            console.error('‚ùå Ë™≠„ÅøËæº„Åø„Çø„Ç§„É†„Ç¢„Ç¶„Éà:', errors);
                            reject(new Error('„Ç¢„Çª„ÉÉ„ÉàË™≠„ÅøËæº„Åø„Çø„Ç§„É†„Ç¢„Ç¶„Éà: ' + JSON.stringify(errors)));
                        } else {
                            if (checkCount % 10 === 0) {
                                console.log(`‚è≥ Ë™≠„ÅøËæº„Åø‰∏≠... (${checkCount}/100)`);
                            }
                            setTimeout(checkAssets, 100);
                        }
                    };
                    checkAssets();
                });
                
                status.textContent = 'üé¨ „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÈñãÂßã...';
                
                // AtlasÂèñÂæó
                const atlas = assetManager.get('purattokun.atlas');
                const atlasLoader = new spine.AtlasAttachmentLoader(atlas);
                
                // SkeletonDataË™≠„ÅøËæº„Åø
                const skeletonJson = new spine.SkeletonJson(atlasLoader);
                const skeletonData = skeletonJson.readSkeletonData(assetManager.get('purattokun.json'));
                
                // Skeleton‰ΩúÊàê
                const skeleton = new spine.Skeleton(skeletonData);
                skeleton.x = 0;  // Âõ∫ÂÆöÂÄ§ 0
                skeleton.y = 0;  // Âõ∫ÂÆöÂÄ§ 0
                skeleton.scaleX = skeleton.scaleY = 0.8;  // 0.3‚Üí0.8„Å´Â§âÊõ¥ÔºàÂ§ß„Åç„ÅèÔºâ
                
                console.log('üìä SkeletonÊÉÖÂ†±:', {
                    x: skeleton.x,
                    y: skeleton.y,
                    scale: skeleton.scaleX,
                    animations: skeleton.data.animations.map(a => a.name)
                });
                
                // AnimationState
                const animationStateData = new spine.AnimationStateData(skeleton.data);
                const animationState = new spine.AnimationState(animationStateData);
                
                // „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Ç∑„Éº„Ç±„É≥„ÇπË®≠ÂÆöÔºàÁôªÂ†¥‚ÜíÂæÖÊ©üÔºâ
                console.log('üé¨ Âà©Áî®ÂèØËÉΩ„Å™„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥:', skeleton.data.animations.map(a => a.name));
                
                if (skeleton.data.findAnimation('syutugen') && skeleton.data.findAnimation('taiki')) {
                    // syutugenÔºàÁôªÂ†¥Ôºâ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÇíÊúÄÂàù„Å´1ÂõûÂÜçÁîü
                    animationState.setAnimation(0, 'syutugen', false);
                    console.log('‚úÖ „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„Ç∑„Éº„Ç±„É≥„ÇπÈñãÂßã: syutugenÔºàÁôªÂ†¥Ôºâ‚Üí taikiÔºàÂæÖÊ©üÔºâ');
                    
                    // syutugenÂÆå‰∫ÜÂæå„Å´taiki„Å´Ëá™ÂãïÈÅ∑Áßª„Åô„Çã„É™„Çπ„Éä„ÉºË®≠ÂÆö
                    const listener = {
                        complete: (entry) => {
                            if (entry.animation.name === 'syutugen') {
                                console.log('üéØ syutugenÂÆå‰∫Ü ‚Üí taiki„Å´ÈÅ∑Áßª');
                                animationState.setAnimation(0, 'taiki', true);
                                animationState.removeListener(listener);
                            }
                        }
                    };
                    animationState.addListener(listener);
                    
                } else if (skeleton.data.findAnimation('taiki')) {
                    // „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºötaiki„ÅÆ„Åø
                    animationState.setAnimation(0, 'taiki', true);
                    console.log('‚úÖ „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ: taiki„ÅÆ„ÅøÂÜçÁîü');
                } else if (skeleton.data.animations.length > 0) {
                    // ÊúÄÁµÇ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºöÊúÄÂàù„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
                    const animName = skeleton.data.animations[0].name;
                    animationState.setAnimation(0, animName, true);
                    console.log('‚úÖ ÊúÄÁµÇ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØ:', animName);
                } else {
                    console.warn('‚ö†Ô∏è „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì');
                }
                
                // „É¨„É≥„ÉÄ„É©„Éº
                const shader = spine.Shader.newTwoColoredTextured(gl);
                const renderer = new spine.SceneRenderer(canvas, gl);
                
                // „É¨„É≥„ÉÄ„É™„É≥„Ç∞„É´„Éº„Éó
                let lastTime = Date.now() / 1000;
                let frameCount = 0;
                
                function render() {
                    const now = Date.now() / 1000;
                    const delta = now - lastTime;
                    lastTime = now;
                    
                    // Êõ¥Êñ∞
                    animationState.update(delta);
                    animationState.apply(skeleton);
                    skeleton.updateWorldTransform();
                    
                    // ÊèèÁîª
                    gl.clearColor(0, 0, 0, 0);
                    gl.clear(gl.COLOR_BUFFER_BIT);
                    
                    // „Éì„É•„Éº„Éù„Éº„ÉàË®≠ÂÆö
                    gl.viewport(0, 0, canvas.width, canvas.height);
                    
                    renderer.begin();
                    renderer.drawSkeleton(skeleton, true);
                    renderer.end();
                    
                    frameCount++;
                    if (frameCount === 1) {
                        console.log('üé¨ ÊúÄÂàù„ÅÆ„Éï„É¨„Éº„É†„É¨„É≥„ÉÄ„É™„É≥„Ç∞ÂÆå‰∫Ü');
                    }
                    if (frameCount % 60 === 0) {
                        console.log(`üìπ ${frameCount}„Éï„É¨„Éº„É†ÊèèÁîªÊ∏à„Åø`);
                    }
                    
                    requestAnimationFrame(render);
                }
                
                render();
                status.textContent = '‚úÖ Spine„Ç≠„É£„É©„ÇØ„Çø„ÉºÂãï‰Ωú‰∏≠';
                
                // „Ç≠„É£„É©„ÇØ„Çø„Éº„ÇØ„É™„ÉÉ„ÇØÊ©üËÉΩ„ÇíËøΩÂä†
                canvas.addEventListener('click', function() {
                    console.log('üñ±Ô∏è „Å∑„Çâ„Å£„Å®„Åè„Çì„ÇØ„É™„ÉÉ„ÇØ - „ÇÑ„Çâ„Çå„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÂÜçÁîü');
                    
                    if (skeleton.data.findAnimation('yarare') && skeleton.data.findAnimation('taiki')) {
                        // „ÇÑ„Çâ„Çå‚ÜíÂæÖÊ©ü„ÅÆ„Ç∑„Éº„Ç±„É≥„ÇπÂÜçÁîü
                        animationState.setAnimation(0, 'yarare', false);
                        
                        const clickListener = {
                            complete: (entry) => {
                                if (entry.animation.name === 'yarare') {
                                    console.log('üéØ „ÇØ„É™„ÉÉ„ÇØ: yarareÂÆå‰∫Ü ‚Üí taiki„Å´ÈÅ∑Áßª');
                                    animationState.setAnimation(0, 'taiki', true);
                                    animationState.removeListener(clickListener);
                                }
                            }
                        };
                        animationState.addListener(clickListener);
                    }
                });
                console.log('üñ±Ô∏è „ÇØ„É™„ÉÉ„ÇØÊ©üËÉΩ„ÇíÊúâÂäπÂåñ: „Ç≠„É£„É©„ÇØ„Çø„Éº„Çí„ÇØ„É™„ÉÉ„ÇØ„Åß„ÇÑ„Çâ„Çå„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÂÜçÁîü');
                
            } catch (error) {
                status.textContent = '‚ùå „Ç®„É©„Éº: ' + error.message;
                console.error('SpineÂàùÊúüÂåñ„Ç®„É©„Éº:', error);
            }
        }
        
        // ÈñãÂßã
        waitForSpine();
        
        // „Ç¨„Çø„É≥„ÉÜ„Çπ„ÉàÁî®IntersectionObserver
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };
        
        const animationObserver = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const cards = document.querySelectorAll('.service-card');
                    const index = Array.from(cards).indexOf(entry.target);
                    
                    console.log(`üîç [GATAN TEST] „Çµ„Éº„Éì„Çπ„Ç´„Éº„Éâ${index + 1}„ÅåÁîªÈù¢„Å´ÂÖ•„Çä„Åæ„Åó„Åü`);
                    
                    // ËÉåÊôØÁîªÂÉè„Å®Canvas„ÅÆÊ∏¨ÂÆöÔºàBEFOREÔºâ
                    const backgroundImage = document.querySelector('.background-image');
                    const purattokuCanvas = document.querySelector('#purattokun-canvas');
                    
                    let beforeBgRect = null;
                    let beforeCanvasRect = null;
                    
                    if (backgroundImage) {
                        beforeBgRect = backgroundImage.getBoundingClientRect();
                        console.log(`üìè [BEFORE] ËÉåÊôØÁîªÂÉè:`, {
                            width: beforeBgRect.width,
                            height: beforeBgRect.height,
                            left: beforeBgRect.left,
                            top: beforeBgRect.top
                        });
                    }
                    
                    if (purattokuCanvas) {
                        beforeCanvasRect = purattokuCanvas.getBoundingClientRect();
                        console.log(`üìè [BEFORE] „Å∑„Çâ„Å£„Å®„Åè„Çì:`, {
                            width: beforeCanvasRect.width,
                            height: beforeCanvasRect.height,
                            left: beforeCanvasRect.left,
                            top: beforeCanvasRect.top
                        });
                    }
                    
                    setTimeout(() => {
                        entry.target.classList.add('animate');
                        console.log(`üé¨ [GATAN TEST] „Çµ„Éº„Éì„Çπ„Ç´„Éº„Éâ${index + 1}„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥ÈñãÂßã`);
                        
                        // „Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥Âæå„ÅÆÊ∏¨ÂÆö
                        setTimeout(() => {
                            if (backgroundImage && beforeBgRect) {
                                const afterBgRect = backgroundImage.getBoundingClientRect();
                                console.log(`üìè [AFTER] ËÉåÊôØÁîªÂÉè:`, {
                                    width: afterBgRect.width,
                                    height: afterBgRect.height,
                                    left: afterBgRect.left,
                                    top: afterBgRect.top,
                                    changeX: afterBgRect.left - beforeBgRect.left,
                                    changeY: afterBgRect.top - beforeBgRect.top,
                                    changeW: afterBgRect.width - beforeBgRect.width,
                                    changeH: afterBgRect.height - beforeBgRect.height
                                });
                            }
                            
                            if (purattokuCanvas && beforeCanvasRect) {
                                const afterCanvasRect = purattokuCanvas.getBoundingClientRect();
                                console.log(`üìè [AFTER] „Å∑„Çâ„Å£„Å®„Åè„Çì:`, {
                                    width: afterCanvasRect.width,
                                    height: afterCanvasRect.height,
                                    left: afterCanvasRect.left,
                                    top: afterCanvasRect.top,
                                    changeX: afterCanvasRect.left - beforeCanvasRect.left,
                                    changeY: afterCanvasRect.top - beforeCanvasRect.top,
                                    changeW: afterCanvasRect.width - beforeCanvasRect.width,
                                    changeH: afterCanvasRect.height - beforeCanvasRect.height
                                });
                                
                                // Áõ∏Èñ¢ÂàÜÊûê
                                if (beforeBgRect && backgroundImage) {
                                    const afterBgRect = backgroundImage.getBoundingClientRect();
                                    const bgChangeY = afterBgRect.top - beforeBgRect.top;
                                    const canvasChangeY = afterCanvasRect.top - beforeCanvasRect.top;
                                    const difference = canvasChangeY - bgChangeY;
                                    const isOutOfSync = Math.abs(difference) >= 2;
                                    
                                    console.log(`üìä [GATAN ANALYSIS] „Çµ„Éº„Éì„Çπ„Ç´„Éº„Éâ${index + 1} - „Ç∑„É≥„Éó„É´ÊßãÈÄ†„Åß„ÅÆÁõ∏Èñ¢:`, {
                                        backgroundChangeY: bgChangeY,
                                        canvasChangeY: canvasChangeY,
                                        difference: difference,
                                        syncStatus: isOutOfSync ? '‚ùå„Ç∫„É¨' : '‚úÖÂêåÊúü',
                                        note: '„Ç∑„É≥„Éó„É´„Çµ„É≥„Éó„É´„Åß„ÅÆ„Ç¨„Çø„É≥„ÉÜ„Çπ„ÉàÁµêÊûú'
                                    });
                                }
                            }
                        }, 100);
                        
                    }, index * 150);
                }
            });
        }, observerOptions);
        
        // Áõ£Ë¶ñÂØæË±°Ë¶ÅÁ¥†„ÇíËøΩÂä†
        document.querySelectorAll('.service-card').forEach(card => {
            animationObserver.observe(card);
        });
        
        // „Ç≥„É≥„Çª„Éó„Éà„Çª„ÇØ„Ç∑„Éß„É≥„ÅÆË¶ÅÁ¥†„ÇÇÁõ£Ë¶ñÂØæË±°„Å´ËøΩÂä†
        const conceptText = document.querySelector('.concept-text');
        const conceptImage = document.querySelector('.concept-image');
        const conceptSection = document.querySelector('.concept');
        const contactSection = document.querySelector('.contact');
        
        if (conceptText) animationObserver.observe(conceptText);
        if (conceptImage) animationObserver.observe(conceptImage);
        if (conceptSection) animationObserver.observe(conceptSection);
        if (contactSection) animationObserver.observe(contactSection);
    </script>
</body>
</html>