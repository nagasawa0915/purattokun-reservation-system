# Claude Code サブエージェント

このプロジェクトで利用可能なサブエージェントの一覧と使用例です。

## 📁 利用可能なエージェント

### 1. file-splitter
**長大なファイルを適切に分割するエージェント**

- **対象**: 500行以上の複雑なJavaScriptファイル
- **得意分野**: 役割別分割、抽象度別分割、意味単位での分割
- **出力**: 保守性・再利用性・テスト容易性を重視した分割ファイル群

## 🚀 使用方法

### file-splitterの基本的な使用例

```
「file-splitterサブエージェントを使って、spine-positioning-system-minimal.jsを分割してください」
```

### 具体的な指示例

```
「file-splitterエージェントで以下の作業をお願いします：

1. spine-positioning-system-minimal.js（3741行）を分析
2. 役割別に以下の方針で分割：
   - UIコンポーネント管理
   - 座標計算・変換
   - イベント処理
   - 状態管理・永続化
3. 分割後の動作確認とテスト実行」
```

## 📋 プロジェクト内の分割候補ファイル

### 🚨 高優先度（即座分割推奨）
1. **spine-positioning-system-minimal.js** (3741行)
   - 編集システムの全機能が1ファイルに集約
   - UI、座標計算、イベント処理、状態管理が混在

2. **spine-positioning-system-explanation.js** (2231行)
   - 旧版編集システム、複雑な機能が混在

### ⚠️ 中優先度（検討推奨）
3. **spine-integration.js** (2076行)
   - Spine WebGL統合システム
   - キャラクター管理、アニメーション制御が混在

4. **assets/js/script.js** (839行)
   - メインサイトのJavaScript
   - 複数の機能が混在している可能性

## 🎯 分割効果の期待値

### spine-positioning-system-minimal.js分割例
**分割前**: 1ファイル 3741行
**分割後予想**:
```
├── position-editor-core.js       (~800行) - コア編集機能
├── position-editor-ui.js         (~600行) - UI コンポーネント
├── coordinate-calculator.js      (~500行) - 座標計算システム
├── event-handler.js              (~400行) - イベント処理
├── state-manager.js              (~300行) - 状態管理・永続化
├── handle-renderer.js            (~200行) - ハンドル描画
├── character-manager.js          (~200行) - キャラクター管理
├── canvas-controller.js          (~200行) - Canvas制御
├── utilities.js                  (~300行) - ユーティリティ
└── constants.js                  (~100行) - 定数定義
```

### 期待される改善効果
- **保守性**: 特定機能の修正が他に影響しない
- **テスト容易性**: 個別機能の単体テストが可能
- **再利用性**: コンポーネントの他プロジェクト流用
- **開発効率**: 並列開発・部分的な理解が可能
- **バグ削減**: 責任境界が明確でバグの混入を防止

## 🛠️ 実際の使用手順

### Step 1: エージェント呼び出し
```
file-splitterサブエージェントを使用してください
```

### Step 2: 対象ファイル指定
```
spine-positioning-system-minimal.jsを分析して、適切に分割してください
```

### Step 3: 分割方針指定（オプション）
```
以下の方針で分割してください：
- UI処理とビジネスロジックを分離
- 外部公開関数を最小限に
- 既存機能の動作を完全保持
```

### Step 4: 結果確認
分割後、エージェントが以下を自動実行：
- 動作確認テスト
- 分割前後の機能比較
- インターフェース整合性チェック
- 改善効果レポート作成

## 🔄 継続的な活用

### 定期的な分割レビュー
- 月1回：新しい長大ファイルの特定
- 四半期ごと：分割効果の測定・評価
- 必要に応じて：追加分割の実施

### 品質指標の監視
- ファイルサイズ分布の改善
- コード複雑度の削減
- テストカバレッジの向上
- 開発速度の向上

このエージェントを活用することで、プロジェクトの保守性と開発効率を大幅に向上させることができます。