# 🛠️ Spine Editor Desktop - 開発・テストガイド

## 🚀 Phase 1 MVP動作テスト

### 事前準備

1. **Node.js環境確認**
   ```bash
   node --version  # v18以上推奨
   npm --version   # v9以上推奨
   ```

2. **依存関係インストール**
   ```bash
   cd spine-editor-desktop
   npm install
   ```

### 🎯 起動手順

```bash
# 開発モード起動
npm run dev

# または
npm start
```

### ✅ テスト項目チェックリスト

#### 基本起動・UI表示
- [ ] アプリケーションが起動する
- [ ] 4パネルレイアウト（アウトライナー・プレビュー・プロパティ・レイヤー）が表示される
- [ ] ツールバーが正常に表示される
- [ ] ステータスバーが表示される

#### インポート機能
- [ ] 「🏠 ホームページ」ボタンでフォルダ選択ダイアログが開く
- [ ] 「🎯 Spine」ボタンでキャラクターフォルダ選択ダイアログが開く
- [ ] Spineキャラクターフォルダ選択後、アウトライナーにキャラクターが表示される
- [ ] キャラクターアニメーション一覧が展開される

#### Spine統合・表示機能
- [ ] キャラクター選択時にプレビューエリアにキャンバスが表示される
- [ ] プロパティパネルでキャラクター情報が表示される
- [ ] 位置・スケール・不透明度などのプロパティが編集可能
- [ ] レイヤーパネルにキャラクター一覧が表示される

#### 編集機能
- [ ] キャラクターキャンバスをドラッグして移動可能
- [ ] プロパティパネルでの数値変更が即座に反映される
- [ ] 複数キャラクターの切り替え選択が可能
- [ ] 編集操作がスムーズに動作する

#### 保存機能
- [ ] Ctrl+S でプロジェクト保存ダイアログが開く
- [ ] .sepファイル形式でプロジェクトが保存される
- [ ] 保存後にプロジェクト名がタイトルバーに反映される
- [ ] 保存成功時に通知が表示される

#### エクスポート機能
- [ ] Ctrl+E でパッケージエクスポートが実行される
- [ ] エクスポート処理中にステータス表示される
- [ ] 出力先フォルダ選択ダイアログが開く
- [ ] HTMLパッケージファイルが生成される

#### ショートカット・操作性
- [ ] Ctrl+N: 新規プロジェクト
- [ ] Ctrl+O: プロジェクト読み込み（Phase 2実装予定）
- [ ] Ctrl+S: プロジェクト保存
- [ ] Ctrl+E: パッケージエクスポート
- [ ] Space: タイムライン再生/停止（Phase 3実装予定）
- [ ] F: フィット表示（Phase 2実装予定）

### 🐛 既知の制限事項（Phase 1）

#### 未実装機能
- **Spine WebGL実際の描画**: 現在はプレースホルダー表示
- **アニメーション再生**: 基本制御のみ（Phase 2で実装）
- **タイムライン機能**: UI表示のみ（Phase 3で実装）
- **ドッキングパネル**: 固定レイアウト（Phase 4で実装）
- **プロジェクト読み込み**: 保存機能のみ実装

#### 制限事項
- **ファイルダイアログ**: 簡易実装（フルダイアログはPhase 2）
- **エラーハンドリング**: 基本的なもののみ
- **パフォーマンス**: 最適化前（Phase 2以降で改善）

### 🔍 デバッグ・トラブルシューティング

#### 開発者ツール
```javascript
// アプリケーションインスタンス参照
window.spineEditorApp

// Spine統合マネージャー参照
window.spineEditorApp.spineIntegration

// アプリケーション状態確認
console.log(window.spineEditorApp.state)

// キャラクター一覧確認
console.log([...window.spineEditorApp.state.characters.keys()])

// VFS状態確認
console.log(window.spineEditorApp.state.vfs)
```

#### よくある問題と解決策

**問題**: アプリが起動しない
```bash
# Node.js・NPMバージョン確認
node --version
npm --version

# 依存関係再インストール
rm -rf node_modules package-lock.json
npm install
```

**問題**: フォルダ選択ダイアログが開かない
- Electronセキュリティ設定確認
- preload.jsの読み込み確認
- console.errorでエラー詳細確認

**問題**: Spineキャラクターが検出されない
- フォルダ構造確認: `characters/<name>/*.json, *.atlas, *.png`
- ファイル拡張子確認（大文字小文字区別）
- console.logでファイル検出状況確認

### 📊 パフォーマンス指標

#### 起動時間
- **目標**: 3秒以内
- **現在**: Phase 1実装レベル

#### メモリ使用量
- **目標**: 200MB以内（基本動作）
- **現在**: Phase 1実装レベル

#### ファイル処理
- **キャラクター検出**: 1秒以内（10キャラクターまで）
- **プロジェクト保存**: 2秒以内
- **パッケージエクスポート**: 10秒以内（標準プロジェクト）

### 🎯 Phase 1完了基準

#### 必須機能
- [x] Electronアプリケーション起動
- [x] 4パネルUI基本動作
- [x] フォルダ選択・Spine検出
- [x] 基本編集操作
- [x] プロジェクト保存
- [x] パッケージエクスポート

#### 品質基準
- [x] エラーなしでの基本フロー完了
- [x] 直感的なUI操作
- [x] 適切なフィードバック表示
- [x] 基本的なエラーハンドリング

### 📅 次期Phase予定

#### Phase 2: UI完全機能（予定3-4日）
- アニメーション実際再生
- ドラッグ&ドロップ改善
- プロジェクト読み込み
- 本格的なファイルダイアログ
- UI/UX改善

#### Phase 3: タイムライン実装（予定4-5日）
- Maya Trax風タイムライン
- クリップ編集
- 再生制御
- timeline.json保存・読み込み

#### Phase 4: 拡張・配布準備（予定3-4日）
- Golden Layoutドッキング
- ビルド・配布パッケージ
- 本格的なエラーハンドリング
- パフォーマンス最適化

---

**📋 テスト実行状況**: Phase 1 MVP基本機能 ✅完了  
**🎯 次回実装**: Phase 2 UI完全機能  
**⚡ 推定開発期間**: 13-17日で完成予定